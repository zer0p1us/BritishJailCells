{% macro timeline(history) %}
<div class="timeline">
    {% for application in history.applications %}
    <div class="timeline-item">
        <div class="timeline-content shadow-sm">
            <div class="d-flex justify-content-between align-items-start mb-2">
                <span class="timeline-status status-{{ application.status.lower() }}">
                    {{ application.status }}
                </span>
                <div class="text-end">
                    <small class="text-muted d-block">Ref: {{ application.application_ref }}</small>
                    <small class="text-muted d-block">Date: {{ application.application_date }}</small>
                </div>
            </div>
            
            <strong>Room ID:</strong> {{ application.room_id }}
            <br/>
            <strong>User ID:</strong> {{ application.user_id }}
        </div>
    </div>
    {% endfor %}
</div>
{% endmacro %}